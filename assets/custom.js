var issueTemplate,populateActivity;issueTemplate=function(e){var t;return t=moment(e.closed_at).fromNow(),'<div class="6u 12u(medium) issue">\n  <div class="inner">\n    <div class="title"><a target=\'_blank\' href=\''+e.html_url+"'><span class='number'>#"+e.number+"</span> "+e.title+"</a></div>\n    <div class=\"info\"><span class='left'>"+t+"</span> <span class='right'>by <a href=\""+e.user.html_url+"\" target='_blank'>"+e.user.login+"</a></span></div>\n  </div>\n</div>"},populateActivity=function(e,t){var a,n,r,l,i,o,s,d,u,c,p,h,f,m,v,b,g,y;if(a=$(".activity",t),!e)return a.addClass("failed"),!1;for(l=$(".release-schedule"),$(".release[data-name='latest']",l).text(null!=(h=e.releases)&&null!=(f=h.latest)?f.version:void 0),a.removeClass("loading"),m=["linesOfCode","commits","contributors","mergedPullRequests","closedIssues","branches"],i=0,u=m.length;i<u;i++)y=m[i],$(".stats[data-name='"+y+"'] .metric",a).text(null!=(v=e[y])?v.toLocaleString():void 0);for(r=$(".milestone-progress",a),$("span.name",r).text(e.currentMilestone.name),$("progress",r).attr("max",e.currentMilestone.totalIssues),$("progress",r).val(e.currentMilestone.closedIssues),n=$(".issues",a),b=e.latestMergedPRs,s=0,c=b.length;s<c;s++)o=b[s],n.append(issueTemplate(o));for(g=["docs","tests"],d=0,p=g.length;d<p;d++)y=g[d],buildChart.pie($(".pie-chart[data-name='"+y+"'] canvas",a),e.coverage[y]);return buildChart.line($("#commit-chart"),e.commitActivity)};var buildBenchmarkCharts,memoryBenchmarks,processBenchmarks,trieBenchmarks;trieBenchmarks={trieMirror:{data:[1.529,23.9,8,45,294,382].map(function(e){return""===e?"":Math.round(1e3/e*10)/10}),unit:""},trieRandom:{data:[11.6,23.9,23.6,46,369,389].map(function(e){return Math.round(1e3/e*10)/10}),unit:""},trieNA:{data:[4221,8469,"",7079,"",""].map(function(e){return""===e?"":Math.round(1e3/e*100)/100}),unit:""}},processBenchmarks={processRate:{data:[3429,8550,8868,10824].map(function(e){return Math.round(987821/e)}),unit:""}},memoryBenchmarks={data:[405,921,1123,3840],unit:""},buildBenchmarkCharts=function(){var e,t,a,n,r,l,i,o,s,d,u;for(a=function(e,t,a){var n,r,l;if(t.size()>0){l=[];for(r in e)n=e[r],l.push(buildChart[a]($("canvas[data-name='"+r+"']",t),n.data,n.unit));return l}},a(trieBenchmarks,$(".benchmarks-trie"),"bar"),a(processBenchmarks,$(".benchmarks-app"),"bar"),t=$(".memory-usage-charts"),o=Math.max.apply(null,memoryBenchmarks.data),d=memoryBenchmarks.data,u=[],r=l=0,i=d.length;l<i;r=++l)s=d[r],e=$("<div class='mem-chart 4u 6u(xsmall) col-"+(r+1)+"'>\n  <div class='chart-area'>\n    <span class='chart-back backcol-"+(r+1)+"'></span>\n    <canvas width=\"4\" height=\"4\"/>\n    <div class='value ' style='z-index: 100000'>"+s+memoryBenchmarks.unit+"</div>\n  </div>\n</div>").appendTo(t),n={value:s,max:o},u.push(buildChart.sphincter($("canvas",e),n));return u},$(document).ready(function(){if($("#wrapper > .page-parity").size())return buildBenchmarkCharts()});var $allBios,$bioContainers,createBioModal;$bioContainers=$(".bio-grid"),createBioModal=function(e,t){var a,n,r,l,i,o,s,d;return d=e.size(),n=$("<div class='bio-modal'>\n  <div class='bio-modal-inner'>\n    <div class='bio-content'></div>\n    <div class='bio-nav'>\n      <div class=\"nav-btn back\"><i class='fa fa-fw fa-chevron-left'></i></div>\n      <div class=\"nav-btn next\"><i class='fa fa-fw fa-chevron-right'></i></div>\n    </div>\n  </div>\n</div>"),i=function(e){if(t+e>=0&&t+e<=d-1)return t+=e,s()},o=function(e){return e.preventDefault(),i($(this).hasClass("back")?-1:1)},r=$(".bio-nav .next",n).click(o),a=$(".bio-nav .back",n).click(o),l=$(document).keydown(function(e){return 37===e.keyCode?i(-1):39===e.keyCode?i(1):void 0}),(s=function(){return $(".bio-content",n).html(e.eq(t).html()),$(".not-always-visible",n).on("mousewheel DOMMouseScroll",function(e){var t;return t=-e.originalEvent.wheelDelta||e.originalEvent.detail,this.clientHeight+this.scrollTop+t>=this.scrollHeight?(e.preventDefault(),this.scrollTop=this.scrollHeight):this.scrollTop+t<=0?(e.preventDefault(),this.scrollTop=0):void 0}),document.getSelection().removeAllRanges(),0===t?a.addClass("disabled"):a.removeClass("disabled"),t===d-1?r.addClass("disabled"):r.removeClass("disabled")})(),n.click(function(e){if("bio-modal"===$(e.target).attr("class"))return n.fadeOut(300,function(){return n.remove()})}),n.appendTo("body").hide().fadeIn(300),n},$bioContainers.size()>0&&($allBios=$(".bio-item",$bioContainers),$allBios.click(function(){var e,t;return t=$allBios.index(this),e=createBioModal($allBios,t)}));var populateBuilds;populateBuilds=function(e,t){var a,n,r,l,i,o,s,d,u,c,p,h,f,m,v,b,g,y,C,k,w,x,B,M,D,T,A;if(a=$(".builds",t),$(".dropdown-container .dropdown-button",a).click(function(e){var t;return e.preventDefault(),t=$(this).parent(),t.toggleClass("showing"),$(".dropdown-content",t).fadeToggle(200)}),e.releases){e.latestCommit&&($("[data-type='version-stable']",a).text(e.releases.latest.version),$("[data-type='ubuntu'] [data-type='filename']",a).text(null!=(i=e.releases.latest)&&null!=(o=i.downloads)&&null!=(g=o.ubuntu)?g.file:void 0),$("[data-type='windows'] [data-type='filename']",a).text(null!=(C=e.releases.latest)&&null!=(k=C.downloads)&&null!=(w=k.windows)?w.file:void 0),$("[data-type='ubuntu-build-url']",a).attr("href",null!=(x=e.releases.latest)&&null!=(B=x.downloads)&&null!=(M=B.ubuntu)?M.url:void 0),$("[data-type='windows-build-url']",a).attr("href",null!=(D=e.releases.latest)&&null!=(s=D.downloads)&&null!=(d=s.windows)?d.url:void 0),$("[data-type='ubuntu'] [data-type='built']",a).text(moment(null!=(u=e.releases.latest)&&null!=(c=u.downloads)&&null!=(p=c.ubuntu)?p.built:void 0).format("DD/MM/YY")),$("[data-type='windows'] .platform [data-type='built']",a).text(moment(null!=(h=e.releases.latest)&&null!=(f=h.downloads)&&null!=(m=f.windows)?m.built:void 0).format("DD/MM/YY"))),y=(null!=(v=e.releases.stable)?v.downloads:void 0)||(null!=(b=e.releases.latest)?b.downloads:void 0)||[];for(T in y)if(e=y[T],n=$(".platform[data-type='"+T+"']",a),null!=e?e.url:void 0)for(l in e)A=e[l],r=$("[data-type='"+l+"']",n),"url"===l?r.attr("href",A):("built"===l?A=moment(A).format("DD/MM/YY"):"size"===l&&(A=localiseFileSize(A)),r.text(A));else $("div:first",n).text("Coming Soon"),$("a.button",n).remove()}return a.removeClass("loading")};var buildChart,mix,shade,tint,toRgb;Chart.defaults.global.tooltips.enabled=!1,Chart.defaults.global.elements.arc.borderWidth=0,Chart.defaults.global.legend.labels.fontFamily="Roboto Mono",Chart.defaults.global.legend.labels.padding=30,Chart.defaults.scale.ticks.fontFamily="Roboto Mono",toRgb=function(e){var t;return t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null},mix=function(e,t,a){return[Math.floor(t[0]+(e-t[0])*a),Math.floor(t[1]+(e-t[1])*a),Math.floor(t[2]+(e-t[2])*a)]},shade=function(e,t){return mix(0,e,t)},tint=function(e,t){return mix(255,e,t)},buildChart={pie:function(e,t){var a,n;return a=$(".text",e.parent()),$(".metric",a).text(t+"%"),new Chart(e[0],{type:"doughnut",options:{responsive:!0,cutoutPercentage:95},data:{labels:[],datasets:[{data:[t,100-t],backgroundColor:[e.css("color")]}]}}),(n=function(){var t;return t=e.height()-a.height(),a.css("margin-top",t/2+"px")})(),$(window).resize(debounce(n,200))},line:function(e,t){var a,n,r,l,i,o;for(n=moment(t.update),l=[],o=[],r=0,i=t.length;r<i;r++)a=t[r],l.push(moment(1e3*a.date).format("DD/MM")),o.push(a.count);return new Chart(e[0],{type:"line",options:{legend:{display:!1},responsive:!0,scales:{xAxes:[{gridLines:{display:!1,zeroLineColor:"rgba(0,0,0,0)"}}],yAxes:[{gridLines:{display:!1,zeroLineColor:"rgba(0,0,0,0)"}}]}},data:{labels:l,datasets:[{pointBackgroundColor:"rgba(0,0,0,0)",pointBorderColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",fill:!0,backgroundColor:e.css("color"),data:o}]}})},polar:function(e,t,a){var n;return null==a&&(a=""),n=[],$(".legend div",e.closest(".chart-container")).each(function(){return n.push($(this).css("color"))}),new Chart(e[0],{type:"polarArea",options:{scale:{ticks:{display:!1},gridLines:{display:!1}},legend:{display:!1},hover:{animationDuration:0}},data:function(){var e,a,r,l,i,o,s,d,u,c;for(s={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},o=Math.min.apply(null,t),i=Math.max.apply(null,t),a=r=0,l=t.length;r<l;a=++r)u=t[a],c=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(n[a]).slice(1,4),d=1,e="rgba("+c[0]+", "+c[1]+", "+c[2]+", "+d+")",s.datasets[0].data.push(u),s.datasets[0].backgroundColor.push(e),s.datasets[0].hoverBackgroundColor.push(e);return s}()})},sphincter:function(e,t,a){var n,r,l;return null==a&&(a=""),n=function(e){return Math.sqrt(e/Math.PI)},r=1e3,l=n(t.value)/n(r)*100,new Chart(e[0],{type:"polarArea",options:{scale:{ticks:{display:!1,min:0,max:100},gridLines:{display:!1}},title:{display:!1},labels:{display:!1},legend:{display:!1},responsive:!0,animation:{duration:0}},data:{labels:[],datasets:[{backgroundColor:"#222",data:[l]}]}})},bar:function(e,t,a){var n;return null==a&&(a=""),n=[],$(".legend div",e.closest(".chart-container")).each(function(){return n.push($(this).css("color"))}),new Chart(e[0],{type:"bar",options:{title:{padding:20,display:!0},labels:{display:!0,position:"top"},legend:{display:!1},hover:{animationDuration:0},animation:{onComplete:function(){var e,t,n,r,l,i,o,s,d;for(e=this.chart.ctx,e.font="0.6em "+Chart.defaults.global.legend.labels.fontFamily,e.textAlign="center",e.textBaseline="bottom",s=this.data.datasets,d=[],r=0,l=s.length;r<l;r++)t=s[r],d.push(function(){var r,l,s,d;for(s=t.data,d=[],n=r=0,l=s.length;r<l;n=++r)o=s[n],i=t.metaData[n]._model,e.fillStyle=i.backgroundColor,d.push(e.fillText(""+o+a,i.x,i.y-10));return d}());return d}},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{display:!1,offsetGridLines:!0}}],yAxes:[{ticks:{min:0},display:!1}]}},data:{labels:[""],datasets:function(){var e,a,r,l,i;for(e=[],a=l=0,i=t.length;l<i;a=++l)r=t[a],e.push({backgroundColor:n[a],hoverBackgroundColor:n[a],data:[t[a]]});return e}()}})}};var debounce,getIEVersion,isFirefox,localiseFileSize;isFirefox=function(){return"undefined"!=typeof InstallTrigger},getIEVersion=function(){var e,t;return t=window.navigator.userAgent,e=t.indexOf("MSIE"),e>0?parseInt(t.substring(e+5,t.indexOf(".",e))):navigator.userAgent.match(/Trident\/7\./)?11:0},localiseFileSize=function(e){var t,a,n;if(t=1e3,Math.abs(e)<t)return e+" B";for(n=["kB","MB","GB","TB"],a=-1;;)if(e/=t,++a,!(Math.abs(e)>=t&&a<n.length-1))break;return e.toFixed(1)+" "+n[a]},debounce=function(e,t,a){var n;return n=void 0,function(){var r,l,i,o;i=this,r=arguments,o=function(){n=null,a||e.apply(i,r)},l=a&&!n,clearTimeout(n),n=setTimeout(o,t),l&&e.apply(i,r)}},window.location.search.indexOf("disableNav")>-1&&$("body").addClass("disable-nav");var githubDataUrl;githubDataUrl="//vanity-service.ethcore.io/github-data",$(document).ready(function(){var e;if(e=$("#wrapper > .page.page-parity"),e.size()>0)return $.ajax({url:githubDataUrl,dataType:"json",complete:function(t,a){var n;return"success"!==a?(n=null,console.warn("get JSON",a)):n=t.responseJSON,n&&populateBuilds(n,e),populateActivity(n,e)}})}),$(".scroll-meister a").click(function(e){var t;if(e.preventDefault(),t=document.createElement("a"),t.href=this.href,t.hash)return $("body,html").animate({scrollTop:$(t.hash).offset().top},800,"swing")});